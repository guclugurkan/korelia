/* Routine.css */
:root{
  --ink:#2f2f2f; --muted:#6b5f50;
  --nude-50:#fffaf3; --nude-100:#f7f2ea; --gold-200:#e6dac8;
  --radius:16px; --gap:16px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
}

.routine{ width:90%; margin:70px auto 0; }

/* Header */
.routine .bs-header{
  position:relative; display:grid; place-items:center;
  padding-bottom:14px; margin-bottom:18px; text-align:center;
}
.routine .bs-header::after{
  content:""; position:absolute; left:0; right:0; bottom:0; height:2px; background:#553421;
}
.bs-title{
  font-family:"Arapey",serif; font-weight:700; font-size:40px; color:#553421;
}

/* Tabs */
.tabs{
  display:flex; justify-content:center; gap:10px; margin:20px 0 22px; flex-wrap:wrap;
}
.tab{
  border:1px solid #ddd; background:#f7f7f7; padding:8px 14px; border-radius:999px;
  cursor:pointer; font-weight:600; transition:.25s;
}
.tab:hover{ background:#fff; }
.tab.active{ background:#553421; color:#fff; border-color:#111; }
.tab:focus-visible{ outline:2px solid #e6b8a2; outline-offset:2px; }

/* Slider wrapper */
.routine-slider{
  position:relative; display:flex; align-items:center;
}

/* Flèches : à l’intérieur, s’adaptent au mobile */
.nav-arrow{
  position:absolute; top:50%; transform:translateY(-50%);
  width:36px; height:36px; border-radius:50%;
  border:1px solid var(--gold-200); background:#fff;
  display:flex; align-items:center; justify-content:center;
  font-size:20px; font-weight:bold; cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,.12); transition:.2s; z-index:10;
}
.nav-arrow:hover{ background:#111; color:#fff; }
.nav-arrow:focus-visible{ outline:2px solid #e6b8a2; outline-offset:2px; }
.nav-arrow.left{ left:-10px; }
.nav-arrow.right{ right:-10px; }

@media (max-width: 640px){
  .nav-arrow{ width:32px; height:32px; font-size:18px; }
  .nav-arrow.left{ left:-6px; }
  .nav-arrow.right{ right:-6px; }
}

/* Grille — 5 colonnes par page (match PAGE_SIZE=5) */
.routine-grid{
  display:grid; grid-template-columns: repeat(5, 1fr);
  gap:var(--gap); width:100%;
}
@media (max-width:1100px){ .routine-grid{ grid-template-columns: repeat(4, 1fr);} }
@media (max-width:900px){  .routine-grid{ grid-template-columns: repeat(3, 1fr);} }
@media (max-width:640px){  .routine-grid{ grid-template-columns: repeat(2, 1fr);} }
@media (max-width:420px){  .routine-grid{ grid-template-columns: 1fr;} }

/* Carte */
.card{
  position:relative;
  border:1px solid var(--gold-200);
  border-radius:var(--radius);
  background:linear-gradient(180deg,var(--nude-50),var(--nude-100));
  box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.6);
  overflow:hidden; isolation:isolate;
  animation: fade .28s ease;
}
@keyframes fade{ from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:translateY(0)} }

/* numéro d’étape */
.badgee{
  position:absolute; top:10px; left:10px;
  width:36px; height:36px; border-radius:999px;
  background:#111; color:#fff; display:grid; place-items:center; font-weight:700;
  box-shadow:0 4px 10px rgba(0,0,0,.15); opacity:.55; z-index:3;
}

/* Media */
.mediaa{
  aspect-ratio: 4/5; width:100%; overflow:hidden;
  border-bottom:1px solid var(--gold-200); background:#fff;
}
.mediaa img{ width:100%; height:100%; object-fit:cover; display:block; }

/* Body */
.body{ padding:10px 12px 12px; text-align:center; }
.title{
  font:700 14px/1.2 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  color:var(--ink); margin:4px 0 4px;
}
.note{
  font:500 12px/1.35 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  color:var(--muted); margin:0; opacity:.9;
}

/* Overlay details (hover/click) */
.card .card-hit{
  position:absolute; inset:0; opacity:0; /* capture le clic mobile/clavier */
}
.details{
  position:absolute; inset:0;
  display:grid; place-items:end;
  background:linear-gradient(180deg, rgba(0,0,0,0) 35%, rgba(0,0,0,.55) 100%);
  color:#fff; padding:10px;
  opacity:0; transform: translateY(6px);
  transition: opacity .2s ease, transform .2s ease;
  z-index:2; pointer-events:none;
}
.details-inner{
  backdrop-filter: blur(2px);
  background: rgba(0,0,0,.36);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 12px;
  padding: 10px 12px; width: 100%;
  font: 500 12px/1.35 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
}
.details p{ margin: 6px 0; }
.details .tip{ opacity:.95; }

/* Affichage des détails au hover ou état .open (mobile/clavier) */
.card:hover .details,
.card.open .details{
  opacity:1; transform: translateY(0); pointer-events:auto;
}

/* CTA */
.cta-pack{ display:flex; justify-content:center; margin-top:18px; }
.pack-btn1{
  background:#ffffff; color:#553421; border:1px solid #111;
  padding:10px 18px; border-radius:999px; font-weight:700; text-decoration:none;
  transition:.25s; box-shadow:0 6px 16px rgba(0,0,0,.12);
}
.pack-btn1:hover{ background:#553421; border-color:#333; color:white; }
.pack-btn1:focus-visible{ outline:2px solid #e6b8a2; outline-offset:2px; }

/* Accessibilité & motion */
@media (prefers-reduced-motion: reduce){
  .card{ animation: none !important; }
  .details{ transition: none !important; }
}


/* =========================
   RESPONSIVE VUES ROUTINE
   ========================= */

/* Par défaut (desktop/tablette) :
   - on montre la vue desktop
   - on cache la vue mobile
*/
.routine-desktopView {
  display: block;
}
.routine-mobileView {
  display: none;
}

/* Mobile : max-width 640px
   - on cache la version desktop
   - on affiche la version mobile
*/
@media (max-width:640px){
  .routine-desktopView {
    display: none;
  }
  .routine-mobileView {
    display: block;
  }
}

/* =========================
   RAIL MOBILE
   ========================= */

.routine-mobileView {
  margin-top: 10px;
}

/* Le rail horizontal qui scrolle */
.routine-rail {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -ms-overflow-style: none;
  scrollbar-width: none;
  gap: var(--gap);
  padding-bottom: 10px;
  padding-inline: 4px;
}
.routine-rail::-webkit-scrollbar {
  display: none;
}

/* Chaque carte dans le rail */
.routine-rail-card {
  flex: 0 0 50%;            /* ~2 cartes visibles dans le viewport */
  max-width: 280px;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  /* on réutilise déjà .card pour le style (fond nude, badge, etc.) */
}

/* Important sur mobile : pas besoin des flèches */
@media (max-width:640px){
  .routine-slider .nav-arrow {
    display: none;
  }
}

/* Bonus : on peut forcer la grille desktop à 5 colonnes
   comme avant, rien à changer pour toi, mais on s'assure
   qu'elle ne se casse pas à cause des nouvelles vues.
   (Tu avais déjà ces breakpoints, je les laisse tels quels.)
*/

/* NOTE: ta .card, .badge, .mediaa, .details etc. restent valables
   pour les deux vues, donc pas besoin de dupliquer le style.
*/
